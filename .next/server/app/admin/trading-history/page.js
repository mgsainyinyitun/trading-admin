(()=>{var e={};e.id=4892,e.ids=[4892],e.modules={53524:e=>{"use strict";e.exports=require("@prisma/client")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},66706:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>n.a,__next_app__:()=>f,originalPathname:()=>u,pages:()=>l,routeModule:()=>p,tree:()=>o}),a(34746),a(90596),a(91975),a(35866);var r=a(23191),s=a(88716),d=a(37922),n=a.n(d),i=a(95231),c={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>i[e]);a.d(t,c);let o=["",{children:["admin",{children:["trading-history",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,34746)),"C:\\Users\\sainyi\\Desktop\\projects\\others\\trading-admin\\app\\admin\\trading-history\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,90596)),"C:\\Users\\sainyi\\Desktop\\projects\\others\\trading-admin\\app\\admin\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(a.bind(a,91975)),"C:\\Users\\sainyi\\Desktop\\projects\\others\\trading-admin\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,35866,23)),"next/dist/client/components/not-found-error"]}],l=["C:\\Users\\sainyi\\Desktop\\projects\\others\\trading-admin\\app\\admin\\trading-history\\page.tsx"],u="/admin/trading-history/page",f={require:a,loadChunk:()=>Promise.resolve()},p=new r.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/admin/trading-history/page",pathname:"/admin/trading-history",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},79289:(e,t,a)=>{let r={"8873f0e7fb32583a8b891cd6e896f24050515b11":()=>Promise.resolve().then(a.bind(a,6237)).then(e=>e.getTradingSettings),d97936a03b71135c31c974e1fa3b7e6d2728da6b:()=>Promise.resolve().then(a.bind(a,6237)).then(e=>e.updateTradingStatus),ebdce771cc2d7e2d1a631aefc8088270fc5fad23:()=>Promise.resolve().then(a.bind(a,6237)).then(e=>e.updateTradingSetting),f07786dd2adf991bd6584a31321656439492feea:()=>Promise.resolve().then(a.bind(a,6237)).then(e=>e.getAllTrading),"2d15528f629c3af8998dec3807b0bce23bd14bc4":()=>Promise.resolve().then(a.bind(a,28565)).then(e=>e.getAdminInfo)};async function s(e,...t){return(await r[e]()).apply(null,t)}e.exports={"8873f0e7fb32583a8b891cd6e896f24050515b11":s.bind(null,"8873f0e7fb32583a8b891cd6e896f24050515b11"),d97936a03b71135c31c974e1fa3b7e6d2728da6b:s.bind(null,"d97936a03b71135c31c974e1fa3b7e6d2728da6b"),ebdce771cc2d7e2d1a631aefc8088270fc5fad23:s.bind(null,"ebdce771cc2d7e2d1a631aefc8088270fc5fad23"),f07786dd2adf991bd6584a31321656439492feea:s.bind(null,"f07786dd2adf991bd6584a31321656439492feea"),"2d15528f629c3af8998dec3807b0bce23bd14bc4":s.bind(null,"2d15528f629c3af8998dec3807b0bce23bd14bc4")}},3381:(e,t,a)=>{Promise.resolve().then(a.bind(a,30601))},40324:(e,t,a)=>{"use strict";a.d(t,{QI:()=>d,UJ:()=>s,ux:()=>n}),a(15424);var r=a(46242),s=(0,r.$)("ebdce771cc2d7e2d1a631aefc8088270fc5fad23"),d=(0,r.$)("f07786dd2adf991bd6584a31321656439492feea"),n=(0,r.$)("d97936a03b71135c31c974e1fa3b7e6d2728da6b");(0,r.$)("8873f0e7fb32583a8b891cd6e896f24050515b11")},30601:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>m});var r=a(10326),s=a(17577),d=a(15940),n=a(33071),i=a(40324),c=a(567),o=a(54432),l=a(77506),u=a(90772),f=a(85999);let p=e=>"LONG"===e?"bg-green-100 text-green-600":"SHORT"===e?"bg-red-100 text-red-600":"",b=e=>e?"bg-green-100 text-green-600":"bg-red-100 text-red-600",g=e=>"COMPLETED"===e?"bg-blue-100 text-green-600":"PENDING"===e?"bg-gray-100 text-gray-600":"";function m(){let[e,t]=(0,s.useState)([]),[a,m]=(0,s.useState)([]),[x,h]=(0,s.useState)(""),[j,y]=(0,s.useState)(""),[v,N]=(0,s.useState)(""),[S,T]=(0,s.useState)(""),[w,C]=(0,s.useState)(!0);async function I(){C(!0);let e=await (0,i.QI)();t(e),m(e),C(!1)}let P=async(e,t)=>{null!==await (0,i.ux)(e,t)?(f.Am.success(`Trade ${e} updated to status ${t}, Successfully`),I()):f.Am.error(`Error updating trade ${e}`)};return(0,r.jsxs)("div",{className:"space-y-6",children:[r.jsx(f.x7,{position:"top-center",richColors:!0}),(0,r.jsxs)(n.Zb,{children:[(0,r.jsxs)(n.Ol,{children:[r.jsx(n.ll,{children:"Trading History"}),(0,r.jsxs)("div",{className:"flex gap-4",children:[r.jsx(o.I,{placeholder:"Filter by Customer Name",value:x,onChange:e=>h(e.target.value)}),(0,r.jsxs)("select",{onChange:e=>y(e.target.value),defaultValue:"",children:[r.jsx("option",{value:"",children:"All Trade Types"}),r.jsx("option",{value:"LONG",children:"Long"}),r.jsx("option",{value:"SHORT",children:"Short"})]}),(0,r.jsxs)("select",{onChange:e=>N(e.target.value),defaultValue:"",children:[r.jsx("option",{value:"",children:"All Conditions"}),r.jsx("option",{value:"WIN",children:"Win"}),r.jsx("option",{value:"LOSE",children:"Lose"})]}),(0,r.jsxs)("select",{onChange:e=>T(e.target.value),defaultValue:"",children:[r.jsx("option",{value:"",children:"All Trading Statuses"}),r.jsx("option",{value:"PENDING",children:"Pending"}),r.jsx("option",{value:"COMPLETED",children:"Completed"}),r.jsx("option",{value:"FAILED",children:"Failed"})]})]})]}),r.jsx(n.aY,{children:w?r.jsx("div",{className:"flex justify-center items-center py-10",children:r.jsx(l.Z,{className:"h-10 w-10 animate-spin"})}):(0,r.jsxs)(d.iA,{children:[r.jsx(d.xD,{children:(0,r.jsxs)(d.SC,{children:[r.jsx(d.ss,{children:"Customer ID"}),r.jsx(d.ss,{children:"Customer Name"}),r.jsx(d.ss,{children:"Account Number"}),r.jsx(d.ss,{children:"Trade Type"}),r.jsx(d.ss,{children:"Quantity"}),r.jsx(d.ss,{children:"Condition"}),r.jsx(d.ss,{children:"Status"}),r.jsx(d.ss,{children:"Date"}),r.jsx(d.ss,{children:"Period"}),r.jsx(d.ss,{children:"Action"})," "]})}),r.jsx(d.RM,{children:a.map(e=>(0,r.jsxs)(d.SC,{children:[r.jsx(d.pj,{children:e.customerId}),r.jsx(d.pj,{children:e.customerName}),r.jsx(d.pj,{children:e.accountNumber}),r.jsx(d.pj,{children:r.jsx(c.C,{className:p(e.tradeType),children:e.tradeType})}),(0,r.jsxs)(d.pj,{children:[e.tradeQuantity," USDT"]}),r.jsx(d.pj,{children:r.jsx(c.C,{className:b(e.isSuccess),children:e.isSuccess?"WIN":"LOSE"})}),r.jsx(d.pj,{children:r.jsx(c.C,{className:g(e.tradingStatus),children:e.tradingStatus})}),r.jsx(d.pj,{children:new Date(e.createdAt).toLocaleDateString()}),(0,r.jsxs)(d.pj,{className:"text-center w-20",children:[e.period," Sec"]}),r.jsx(d.pj,{children:"PENDING"===e.tradingStatus&&(0,r.jsxs)("div",{className:"flex gap-2",children:[r.jsx(u.z,{onClick:()=>P(e.id,"COMPLETED"),className:"w-20 bg-green-500 text-white px-2 py-1 rounded",children:"Complete"}),r.jsx(u.z,{onClick:()=>P(e.id,"FAILED"),className:"w-20 bg-red-500 text-white px-2 py-1 rounded",children:"Fail"})]})})]},e.id))})]})})]})]})}},567:(e,t,a)=>{"use strict";a.d(t,{C:()=>i});var r=a(10326);a(17577);var s=a(28671),d=a(77863);let n=(0,s.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function i({className:e,variant:t,...a}){return r.jsx("div",{className:(0,d.cn)(n({variant:t}),e),...a})}},54432:(e,t,a)=>{"use strict";a.d(t,{I:()=>n});var r=a(10326),s=a(17577),d=a(77863);let n=s.forwardRef(({className:e,type:t,...a},s)=>r.jsx("input",{type:t,className:(0,d.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:s,...a}));n.displayName="Input"},15940:(e,t,a)=>{"use strict";a.d(t,{RM:()=>c,SC:()=>o,iA:()=>n,pj:()=>u,ss:()=>l,xD:()=>i});var r=a(10326),s=a(17577),d=a(77863);let n=s.forwardRef(({className:e,...t},a)=>r.jsx("div",{className:"relative w-full overflow-auto",children:r.jsx("table",{ref:a,className:(0,d.cn)("w-full caption-bottom text-sm",e),...t})}));n.displayName="Table";let i=s.forwardRef(({className:e,...t},a)=>r.jsx("thead",{ref:a,className:(0,d.cn)("[&_tr]:border-b",e),...t}));i.displayName="TableHeader";let c=s.forwardRef(({className:e,...t},a)=>r.jsx("tbody",{ref:a,className:(0,d.cn)("[&_tr:last-child]:border-0",e),...t}));c.displayName="TableBody",s.forwardRef(({className:e,...t},a)=>r.jsx("tfoot",{ref:a,className:(0,d.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t})).displayName="TableFooter";let o=s.forwardRef(({className:e,...t},a)=>r.jsx("tr",{ref:a,className:(0,d.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));o.displayName="TableRow";let l=s.forwardRef(({className:e,...t},a)=>r.jsx("th",{ref:a,className:(0,d.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));l.displayName="TableHead";let u=s.forwardRef(({className:e,...t},a)=>r.jsx("td",{ref:a,className:(0,d.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));u.displayName="TableCell",s.forwardRef(({className:e,...t},a)=>r.jsx("caption",{ref:a,className:(0,d.cn)("mt-4 text-sm text-muted-foreground",e),...t})).displayName="TableCaption"},6237:(e,t,a)=>{"use strict";a.r(t),a.d(t,{getAllTrading:()=>d,getTradingSettings:()=>i,updateTradingSetting:()=>c,updateTradingStatus:()=>n});var r=a(27745);a(26461);var s=a(99180);async function d(){return(await s._.trade.findMany({include:{account:!0,customer:!0},orderBy:{createdAt:"desc"}})).map(e=>({id:e.id,customerId:e.customerId.toString(),customerName:e.customer.name,accountId:e.accountId,accountNumber:e.account.accountNo,createdAt:e.createdAt.toISOString(),updatedAt:e.updatedAt.toISOString(),tradeType:e.tradeType,period:e.period,loginId:e.customer.loginId,tradingStatus:e.tradingStatus,isSuccess:e.isSuccess??!1,tradeQuantity:e.tradeQuantity}))}async function n(e,t){let a=await s._.trade.update({where:{id:e},include:{customer:!0,account:!0},data:{tradingStatus:t}});return{id:a.id,customerId:a.customerId.toString(),customerName:a.customer.name,accountId:a.accountId,accountNumber:a.account.accountNo,createdAt:a.createdAt.toISOString(),updatedAt:a.updatedAt.toISOString(),tradeType:a.tradeType,period:a.period,loginId:a.customer.loginId,tradingStatus:a.tradingStatus,isSuccess:a.isSuccess??!1,tradeQuantity:a.tradeQuantity}}async function i(){return await s._.tradingsetting.findMany()}async function c(e,t){return await s._.tradingsetting.update({where:{id:e},data:{winRate:t}})}(0,a(85723).h)([d,n,i,c]),(0,r.j)("f07786dd2adf991bd6584a31321656439492feea",d),(0,r.j)("d97936a03b71135c31c974e1fa3b7e6d2728da6b",n),(0,r.j)("8873f0e7fb32583a8b891cd6e896f24050515b11",i),(0,r.j)("ebdce771cc2d7e2d1a631aefc8088270fc5fad23",c)},34746:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>r});let r=(0,a(68570).createProxy)(String.raw`C:\Users\sainyi\Desktop\projects\others\trading-admin\app\admin\trading-history\page.tsx#default`)}};var t=require("../../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),r=t.X(0,[8948,930,8125,5723,5999,9360],()=>a(66706));module.exports=r})();