(()=>{var e={};e.id=6140,e.ids=[6140],e.modules={53524:e=>{"use strict";e.exports=require("@prisma/client")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},18545:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>d.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>l,routeModule:()=>f,tree:()=>o}),a(82740),a(90596),a(91975),a(35866);var r=a(23191),n=a(88716),s=a(37922),d=a.n(s),i=a(95231),c={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>i[e]);a.d(t,c);let o=["",{children:["admin",{children:["settings",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,82740)),"C:\\Users\\sainyi\\Desktop\\projects\\others\\trading-admin\\app\\admin\\settings\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,90596)),"C:\\Users\\sainyi\\Desktop\\projects\\others\\trading-admin\\app\\admin\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(a.bind(a,91975)),"C:\\Users\\sainyi\\Desktop\\projects\\others\\trading-admin\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,35866,23)),"next/dist/client/components/not-found-error"]}],l=["C:\\Users\\sainyi\\Desktop\\projects\\others\\trading-admin\\app\\admin\\settings\\page.tsx"],u="/admin/settings/page",p={require:a,loadChunk:()=>Promise.resolve()},f=new r.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/admin/settings/page",pathname:"/admin/settings",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},79289:(e,t,a)=>{let r={"8873f0e7fb32583a8b891cd6e896f24050515b11":()=>Promise.resolve().then(a.bind(a,6237)).then(e=>e.getTradingSettings),d97936a03b71135c31c974e1fa3b7e6d2728da6b:()=>Promise.resolve().then(a.bind(a,6237)).then(e=>e.updateTradingStatus),ebdce771cc2d7e2d1a631aefc8088270fc5fad23:()=>Promise.resolve().then(a.bind(a,6237)).then(e=>e.updateTradingSetting),f07786dd2adf991bd6584a31321656439492feea:()=>Promise.resolve().then(a.bind(a,6237)).then(e=>e.getAllTrading),"2d15528f629c3af8998dec3807b0bce23bd14bc4":()=>Promise.resolve().then(a.bind(a,28565)).then(e=>e.getAdminInfo)};async function n(e,...t){return(await r[e]()).apply(null,t)}e.exports={"8873f0e7fb32583a8b891cd6e896f24050515b11":n.bind(null,"8873f0e7fb32583a8b891cd6e896f24050515b11"),d97936a03b71135c31c974e1fa3b7e6d2728da6b:n.bind(null,"d97936a03b71135c31c974e1fa3b7e6d2728da6b"),ebdce771cc2d7e2d1a631aefc8088270fc5fad23:n.bind(null,"ebdce771cc2d7e2d1a631aefc8088270fc5fad23"),f07786dd2adf991bd6584a31321656439492feea:n.bind(null,"f07786dd2adf991bd6584a31321656439492feea"),"2d15528f629c3af8998dec3807b0bce23bd14bc4":n.bind(null,"2d15528f629c3af8998dec3807b0bce23bd14bc4")}},58550:(e,t,a)=>{Promise.resolve().then(a.bind(a,52942))},40324:(e,t,a)=>{"use strict";a.d(t,{QI:()=>s,UJ:()=>n,ux:()=>d}),a(15424);var r=a(46242),n=(0,r.$)("ebdce771cc2d7e2d1a631aefc8088270fc5fad23"),s=(0,r.$)("f07786dd2adf991bd6584a31321656439492feea"),d=(0,r.$)("d97936a03b71135c31c974e1fa3b7e6d2728da6b");(0,r.$)("8873f0e7fb32583a8b891cd6e896f24050515b11")},52942:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>M});var r=a(10326),n=a(14831),s=a(33071),d=a(45842),i=a(17577),c=a(82561),o=a(48051),l=a(93095),u=a(52067),p=a(53405),f=a(2566),b=a(45226),m="Switch",[g,h]=(0,l.b)(m),[x,v]=g(m),j=i.forwardRef((e,t)=>{let{__scopeSwitch:a,name:n,checked:s,defaultChecked:d,required:l,disabled:p,value:f="on",onCheckedChange:m,form:g,...h}=e,[v,j]=i.useState(null),y=(0,o.e)(t,e=>j(e)),w=i.useRef(!1),N=!v||g||!!v.closest("form"),[I=!1,P]=(0,u.T)({prop:s,defaultProp:d,onChange:m});return(0,r.jsxs)(x,{scope:a,checked:I,disabled:p,children:[(0,r.jsx)(b.WV.button,{type:"button",role:"switch","aria-checked":I,"aria-required":l,"data-state":k(I),"data-disabled":p?"":void 0,disabled:p,value:f,...h,ref:y,onClick:(0,c.M)(e.onClick,e=>{P(e=>!e),N&&(w.current=e.isPropagationStopped(),w.current||e.stopPropagation())})}),N&&(0,r.jsx)(S,{control:v,bubbles:!w.current,name:n,value:f,checked:I,required:l,disabled:p,form:g,style:{transform:"translateX(-100%)"}})]})});j.displayName=m;var y="SwitchThumb",w=i.forwardRef((e,t)=>{let{__scopeSwitch:a,...n}=e,s=v(y,a);return(0,r.jsx)(b.WV.span,{"data-state":k(s.checked),"data-disabled":s.disabled?"":void 0,...n,ref:t})});w.displayName=y;var S=e=>{let{control:t,checked:a,bubbles:n=!0,...s}=e,d=i.useRef(null),c=(0,p.D)(a),o=(0,f.t)(t);return i.useEffect(()=>{let e=d.current,t=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(c!==a&&t){let r=new Event("click",{bubbles:n});t.call(e,a),e.dispatchEvent(r)}},[c,a,n]),(0,r.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:a,...s,tabIndex:-1,ref:d,style:{...e.style,...o,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function k(e){return e?"checked":"unchecked"}var N=a(77863);let I=i.forwardRef(({className:e,...t},a)=>r.jsx(j,{className:(0,N.cn)("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:a,children:r.jsx(w,{className:(0,N.cn)("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));I.displayName=j.displayName;var P=a(72607),T=a(60850),_=a(54432),A=a(40324),C=a(85999);function R(){let[e,t]=(0,i.useState)([]),[a,n]=(0,i.useState)(!0),[d,c]=(0,i.useState)({}),[o,l]=(0,i.useState)(!1),u=(e,t)=>{c(a=>({...a,[e]:t})),l(!0)},p=async()=>{for(let[e,a]of Object.entries(d)){console.log("Updating win rate for setting:",e,"to",a);let r=await (0,A.UJ)(parseInt(e),a);t(t=>t.map(t=>t.id===parseInt(e)?r:t)),console.log("Updated setting:",r)}c({}),l(!1),C.Am.success("Win rates updated successfully")};return a?r.jsx("div",{children:"Loading..."}):(0,r.jsxs)(s.Zb,{children:[r.jsx(C.x7,{position:"top-center",richColors:!0}),r.jsx(s.Ol,{children:r.jsx(s.ll,{children:"Trading Settings"})}),(0,r.jsxs)(s.aY,{children:[r.jsx("div",{className:"grid grid-cols-2 gap-4",children:e.map(e=>(0,r.jsxs)("div",{className:"border border-gray-200 p-4 rounded-md",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{htmlFor:`seconds-${e.id}`,children:"Seconds"}),r.jsx(_.I,{id:`seconds-${e.id}`,value:e.seconds,readOnly:!0})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{htmlFor:`percentage-${e.id}`,children:"Percentage"}),r.jsx(_.I,{id:`percentage-${e.id}`,value:e.percentage,readOnly:!0})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{htmlFor:`tradingType-${e.id}`,children:"Trading Type"}),r.jsx(_.I,{id:`tradingType-${e.id}`,value:e.tradingType,readOnly:!0})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{htmlFor:`winRate-${e.id}`,children:"Win Rate"}),r.jsx(_.I,{id:`winRate-${e.id}`,type:"number",step:"0.01",min:"0",max:"1",value:void 0!==d[e.id]?d[e.id]:e.winRate,onChange:t=>u(e.id,Math.min(1,Math.max(0,Number(t.target.value))))})]})]},e.id))}),r.jsx("button",{className:"mt-4 bg-blue-500 text-white px-4 py-2 rounded-md",onClick:p,disabled:!o,children:"Save"})]})]})}function M(){let{theme:e,setTheme:t}=(0,n.F)();return(0,r.jsxs)("div",{className:"space-y-6",children:[r.jsx("div",{className:"flex items-center justify-between",children:(0,r.jsxs)("div",{children:[r.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Settings"}),r.jsx("p",{className:"text-muted-foreground",children:"Customize your application preferences"})]})}),(0,r.jsxs)(s.Zb,{children:[r.jsx(s.Ol,{children:r.jsx(s.ll,{children:"Appearance"})}),r.jsx(s.aY,{children:r.jsx("div",{className:"space-y-6",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:["dark"===e?r.jsx(P.Z,{className:"h-5 w-5"}):r.jsx(T.Z,{className:"h-5 w-5"}),r.jsx(d._,{htmlFor:"theme-mode",children:"Dark Mode"})]}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Switch between light and dark themes"})]}),r.jsx(I,{id:"theme-mode",checked:"dark"===e,onCheckedChange:e=>t(e?"dark":"light")})]})})})]}),r.jsx(R,{})," "]})}},54432:(e,t,a)=>{"use strict";a.d(t,{I:()=>d});var r=a(10326),n=a(17577),s=a(77863);let d=n.forwardRef(({className:e,type:t,...a},n)=>r.jsx("input",{type:t,className:(0,s.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...a}));d.displayName="Input"},45842:(e,t,a)=>{"use strict";a.d(t,{_:()=>l});var r=a(10326),n=a(17577),s=a(45226),d=n.forwardRef((e,t)=>(0,r.jsx)(s.WV.label,{...e,ref:t,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));d.displayName="Label";var i=a(28671),c=a(77863);let o=(0,i.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),l=n.forwardRef(({className:e,...t},a)=>r.jsx(d,{ref:a,className:(0,c.cn)(o(),e),...t}));l.displayName=d.displayName},6237:(e,t,a)=>{"use strict";a.r(t),a.d(t,{getAllTrading:()=>s,getTradingSettings:()=>i,updateTradingSetting:()=>c,updateTradingStatus:()=>d});var r=a(27745);a(26461);var n=a(99180);async function s(){return(await n._.trade.findMany({include:{account:!0,customer:!0},orderBy:{createdAt:"desc"}})).map(e=>({id:e.id,customerId:e.customerId.toString(),customerName:e.customer.name,accountId:e.accountId,accountNumber:e.account.accountNo,createdAt:e.createdAt.toISOString(),updatedAt:e.updatedAt.toISOString(),tradeType:e.tradeType,period:e.period,loginId:e.customer.loginId,tradingStatus:e.tradingStatus,isSuccess:e.isSuccess??!1,tradeQuantity:e.tradeQuantity}))}async function d(e,t){let a=await n._.trade.update({where:{id:e},include:{customer:!0,account:!0},data:{tradingStatus:t}});return{id:a.id,customerId:a.customerId.toString(),customerName:a.customer.name,accountId:a.accountId,accountNumber:a.account.accountNo,createdAt:a.createdAt.toISOString(),updatedAt:a.updatedAt.toISOString(),tradeType:a.tradeType,period:a.period,loginId:a.customer.loginId,tradingStatus:a.tradingStatus,isSuccess:a.isSuccess??!1,tradeQuantity:a.tradeQuantity}}async function i(){return await n._.tradingsetting.findMany()}async function c(e,t){return await n._.tradingsetting.update({where:{id:e},data:{winRate:t}})}(0,a(85723).h)([s,d,i,c]),(0,r.j)("f07786dd2adf991bd6584a31321656439492feea",s),(0,r.j)("d97936a03b71135c31c974e1fa3b7e6d2728da6b",d),(0,r.j)("8873f0e7fb32583a8b891cd6e896f24050515b11",i),(0,r.j)("ebdce771cc2d7e2d1a631aefc8088270fc5fad23",c)},82740:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>r});let r=(0,a(68570).createProxy)(String.raw`C:\Users\sainyi\Desktop\projects\others\trading-admin\app\admin\settings\page.tsx#default`)},53405:(e,t,a)=>{"use strict";a.d(t,{D:()=>n});var r=a(17577);function n(e){let t=r.useRef({value:e,previous:e});return r.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}}};var t=require("../../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),r=t.X(0,[8948,930,8125,5723,5999,9360],()=>a(18545));module.exports=r})();