(()=>{var e={};e.id=6781,e.ids=[6781],e.modules={53524:e=>{"use strict";e.exports=require("@prisma/client")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},34363:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>d.a,__next_app__:()=>u,originalPathname:()=>f,pages:()=>o,routeModule:()=>m,tree:()=>l}),a(63722),a(90596),a(91975),a(35866);var s=a(23191),r=a(88716),c=a(37922),d=a.n(c),n=a(95231),i={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>n[e]);a.d(t,i);let l=["",{children:["admin",{children:["customers",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,63722)),"C:\\Users\\sainyi\\Desktop\\projects\\others\\trading-admin\\app\\admin\\customers\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,90596)),"C:\\Users\\sainyi\\Desktop\\projects\\others\\trading-admin\\app\\admin\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(a.bind(a,91975)),"C:\\Users\\sainyi\\Desktop\\projects\\others\\trading-admin\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,35866,23)),"next/dist/client/components/not-found-error"]}],o=["C:\\Users\\sainyi\\Desktop\\projects\\others\\trading-admin\\app\\admin\\customers\\page.tsx"],f="/admin/customers/page",u={require:a,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/admin/customers/page",pathname:"/admin/customers",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},37086:(e,t,a)=>{let s={"01a8177569209c9d7f7d97c74e4602e33cf4526f":()=>Promise.resolve().then(a.bind(a,25420)).then(e=>e.getCustomerTransactions),"1bf6daaa5e0f7cd2c2a6917f29a46c8f71b7482e":()=>Promise.resolve().then(a.bind(a,25420)).then(e=>e.$$ACTION_2),"3ac7c9a7e4d8addf7f4196505cc4e97740e84cd3":()=>Promise.resolve().then(a.bind(a,25420)).then(e=>e.getCustomers),"4c453d514a09d76ff88800c6ebc28549534d57f8":()=>Promise.resolve().then(a.bind(a,25420)).then(e=>e.$$ACTION_1),"8669ea4bcea14e367abcf30f839202fe05fc968a":()=>Promise.resolve().then(a.bind(a,25420)).then(e=>e.getCustomerById),"8e0cad048e421be6ab6bdcfae90166bb2455ff9e":()=>Promise.resolve().then(a.bind(a,25420)).then(e=>e.$$ACTION_0),"2d15528f629c3af8998dec3807b0bce23bd14bc4":()=>Promise.resolve().then(a.bind(a,28565)).then(e=>e.getAdminInfo)};async function r(e,...t){return(await s[e]()).apply(null,t)}e.exports={"01a8177569209c9d7f7d97c74e4602e33cf4526f":r.bind(null,"01a8177569209c9d7f7d97c74e4602e33cf4526f"),"1bf6daaa5e0f7cd2c2a6917f29a46c8f71b7482e":r.bind(null,"1bf6daaa5e0f7cd2c2a6917f29a46c8f71b7482e"),"3ac7c9a7e4d8addf7f4196505cc4e97740e84cd3":r.bind(null,"3ac7c9a7e4d8addf7f4196505cc4e97740e84cd3"),"4c453d514a09d76ff88800c6ebc28549534d57f8":r.bind(null,"4c453d514a09d76ff88800c6ebc28549534d57f8"),"8669ea4bcea14e367abcf30f839202fe05fc968a":r.bind(null,"8669ea4bcea14e367abcf30f839202fe05fc968a"),"8e0cad048e421be6ab6bdcfae90166bb2455ff9e":r.bind(null,"8e0cad048e421be6ab6bdcfae90166bb2455ff9e"),"2d15528f629c3af8998dec3807b0bce23bd14bc4":r.bind(null,"2d15528f629c3af8998dec3807b0bce23bd14bc4")}},14777:(e,t,a)=>{Promise.resolve().then(a.bind(a,88199))},86904:(e,t,a)=>{"use strict";a(15424);var s=a(46242);(0,s.$)("01a8177569209c9d7f7d97c74e4602e33cf4526f"),(0,s.$)("3ac7c9a7e4d8addf7f4196505cc4e97740e84cd3"),(0,s.$)("8669ea4bcea14e367abcf30f839202fe05fc968a")},88199:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>b});var s=a(10326),r=a(17577),c=a(90434),d=a(15940),n=a(33071),i=a(90772),l=a(54432),o=a(74975),f=a(88307),u=a(77506),m=a(7027),h=a(62881);let x=(0,h.Z)("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]),p=(0,h.Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);function b(){let[e,t]=(0,r.useState)([]),[a,h]=(0,r.useState)(""),[b,j]=(0,r.useState)(!0),g=e.filter(e=>Object.values(e).some(e=>e.toString().toLowerCase().includes(a.toLowerCase()))),y=async e=>{window.confirm("Are you sure you want to delete this customer?")};return s.jsx("div",{className:"space-y-6",children:(0,s.jsxs)(n.Zb,{children:[s.jsx(n.Ol,{children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[s.jsx(n.ll,{children:"Customer Management"}),s.jsx(n.SZ,{children:"Manage your customer accounts and information"})]}),(0,s.jsxs)(i.z,{className:"flex items-center gap-2",children:[s.jsx(o.Z,{className:"h-4 w-4"}),"Add Customer"]})]})}),(0,s.jsxs)(n.aY,{children:[(0,s.jsxs)("div",{className:"relative mb-4",children:[s.jsx(f.Z,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),s.jsx(l.I,{placeholder:"Search customers...",value:a,onChange:e=>h(e.target.value),className:"pl-10"})]}),s.jsx("div",{className:"rounded-md border",children:(0,s.jsxs)(d.iA,{children:[s.jsx(d.xD,{children:(0,s.jsxs)(d.SC,{children:[s.jsx(d.ss,{children:"Name"}),s.jsx(d.ss,{children:"Email"}),s.jsx(d.ss,{children:"Phone"}),s.jsx(d.ss,{children:"Join Date"}),s.jsx(d.ss,{children:"Status"}),s.jsx(d.ss,{children:"No. of Accounts"})," ",s.jsx(d.ss,{children:"Last Login Time"})," ",s.jsx(d.ss,{children:"Login ID"})," ",s.jsx(d.ss,{className:"text-right",children:"Actions"})]})}),s.jsx(d.RM,{children:b?s.jsx(d.SC,{children:s.jsx(d.pj,{colSpan:9,className:"text-center py-10",children:s.jsx("div",{className:"flex justify-center items-center h-full w-full",children:s.jsx(u.Z,{className:"h-10 w-10 animate-spin"})})})}):0===g.length?s.jsx(d.SC,{children:s.jsx(d.pj,{colSpan:9,className:"text-center py-10",children:"No customers found"})}):g.map(e=>(0,s.jsxs)(d.SC,{children:[s.jsx(d.pj,{className:"font-medium",children:e.name}),s.jsx(d.pj,{children:e.email}),s.jsx(d.pj,{children:e.phone}),s.jsx(d.pj,{children:new Date(e.createdAt).toLocaleDateString()}),s.jsx(d.pj,{children:s.jsx("span",{className:`inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium ${e.active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:e.active?"Active":"Inactive"})}),(0,s.jsxs)(d.pj,{children:[e.account.length," "]}),(0,s.jsxs)(d.pj,{children:[e.lastLoginTime?new Date(e.lastLoginTime).toLocaleString():"N/A"," "]}),(0,s.jsxs)(d.pj,{children:[e.loginId," "]}),s.jsx(d.pj,{className:"text-right",children:(0,s.jsxs)("div",{className:"flex justify-end gap-2",children:[s.jsx(c.default,{href:`/admin/customers/${e.id}`,children:(0,s.jsxs)(i.z,{variant:"ghost",size:"sm",className:"flex items-center gap-1",children:[s.jsx(m.Z,{className:"h-4 w-4"}),"Details"]})}),s.jsx(c.default,{href:`/admin/customers/edit/${e.id}`,children:s.jsx(i.z,{variant:"ghost",size:"icon",className:"h-8 w-8",title:"Edit customer",children:s.jsx(x,{className:"h-4 w-4"})})}),s.jsx(i.z,{variant:"ghost",size:"icon",className:"h-8 w-8 text-red-500 hover:text-red-600",title:"Delete customer",onClick:()=>y(e.id),children:s.jsx(p,{className:"h-4 w-4"})})]})})]},e.id))})]})})]})]})})}a(86904)},54432:(e,t,a)=>{"use strict";a.d(t,{I:()=>d});var s=a(10326),r=a(17577),c=a(77863);let d=r.forwardRef(({className:e,type:t,...a},r)=>s.jsx("input",{type:t,className:(0,c.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...a}));d.displayName="Input"},15940:(e,t,a)=>{"use strict";a.d(t,{RM:()=>i,SC:()=>l,iA:()=>d,pj:()=>f,ss:()=>o,xD:()=>n});var s=a(10326),r=a(17577),c=a(77863);let d=r.forwardRef(({className:e,...t},a)=>s.jsx("div",{className:"relative w-full overflow-auto",children:s.jsx("table",{ref:a,className:(0,c.cn)("w-full caption-bottom text-sm",e),...t})}));d.displayName="Table";let n=r.forwardRef(({className:e,...t},a)=>s.jsx("thead",{ref:a,className:(0,c.cn)("[&_tr]:border-b",e),...t}));n.displayName="TableHeader";let i=r.forwardRef(({className:e,...t},a)=>s.jsx("tbody",{ref:a,className:(0,c.cn)("[&_tr:last-child]:border-0",e),...t}));i.displayName="TableBody",r.forwardRef(({className:e,...t},a)=>s.jsx("tfoot",{ref:a,className:(0,c.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t})).displayName="TableFooter";let l=r.forwardRef(({className:e,...t},a)=>s.jsx("tr",{ref:a,className:(0,c.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));l.displayName="TableRow";let o=r.forwardRef(({className:e,...t},a)=>s.jsx("th",{ref:a,className:(0,c.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));o.displayName="TableHead";let f=r.forwardRef(({className:e,...t},a)=>s.jsx("td",{ref:a,className:(0,c.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));f.displayName="TableCell",r.forwardRef(({className:e,...t},a)=>s.jsx("caption",{ref:a,className:(0,c.cn)("mt-4 text-sm text-muted-foreground",e),...t})).displayName="TableCaption"},7027:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});let s=(0,a(62881).Z)("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]])},88307:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});let s=(0,a(62881).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},74975:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});let s=(0,a(62881).Z)("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]])},25420:(e,t,a)=>{"use strict";a.r(t),a.d(t,{$$ACTION_0:()=>n,$$ACTION_1:()=>l,$$ACTION_2:()=>f,getCustomerById:()=>i,getCustomerTransactions:()=>o,getCustomers:()=>d});var s=a(27745);a(26461);var r=a(99180),c=a(85723);let d=(0,s.j)("8e0cad048e421be6ab6bdcfae90166bb2455ff9e",n);async function n(){return(await r._.customer.findMany({include:{account:!0,address:!0},orderBy:{createdAt:"desc"}})).map(e=>({id:e.id,email:e.email,name:e.name,phone:e.phone,createdAt:e.createdAt.toISOString(),updatedAt:e.updatedAt.toISOString(),active:e.active,isActivated:e.isActivated,lastLoginTime:e.lastLoginTime?.toISOString(),socialSecurityNumber:e.socialSecurityNumber,loginId:e.loginId,account:e.account,address:e.address}))}let i=(0,s.j)("4c453d514a09d76ff88800c6ebc28549534d57f8",l);async function l(e){return await r._.customer.findUnique({where:{id:e},include:{account:!0,address:!0,trade:!0}})}let o=(0,s.j)("1bf6daaa5e0f7cd2c2a6917f29a46c8f71b7482e",f);async function f(e){let t=(await r._.transaction.findMany({where:{account:{customerId:e}},include:{account:{include:{customer:!0}}}})).map(e=>({id:e.id,transactionId:e.transactionId,type:e.type,amount:e.amount,status:e.status,createdAt:e.createdAt.toISOString(),updatedAt:e.updatedAt.toISOString(),accountId:e.accountId,customerName:e.account.customer.name}));return console.log("lsit::",t),t}(0,c.h)([d,i,o]),(0,s.j)("3ac7c9a7e4d8addf7f4196505cc4e97740e84cd3",d),(0,s.j)("8669ea4bcea14e367abcf30f839202fe05fc968a",i),(0,s.j)("01a8177569209c9d7f7d97c74e4602e33cf4526f",o)},63722:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});let s=(0,a(68570).createProxy)(String.raw`C:\Users\sainyi\Desktop\projects\others\trading-admin\app\admin\customers\page.tsx#default`)}};var t=require("../../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),s=t.X(0,[8948,930,8125,5723,9360],()=>a(34363));module.exports=s})();