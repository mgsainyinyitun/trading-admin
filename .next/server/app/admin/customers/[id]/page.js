(()=>{var e={};e.id=1201,e.ids=[1201],e.modules={53524:e=>{"use strict";e.exports=require("@prisma/client")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},77379:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>c.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>o,routeModule:()=>f,tree:()=>l}),a(58615),a(90596),a(91975),a(35866);var s=a(23191),r=a(88716),n=a(37922),c=a.n(n),d=a(95231),i={};for(let e in d)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>d[e]);a.d(t,i);let l=["",{children:["admin",{children:["customers",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,58615)),"C:\\Users\\sainyi\\Desktop\\projects\\others\\trading-admin\\app\\admin\\customers\\[id]\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,90596)),"C:\\Users\\sainyi\\Desktop\\projects\\others\\trading-admin\\app\\admin\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(a.bind(a,91975)),"C:\\Users\\sainyi\\Desktop\\projects\\others\\trading-admin\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,35866,23)),"next/dist/client/components/not-found-error"]}],o=["C:\\Users\\sainyi\\Desktop\\projects\\others\\trading-admin\\app\\admin\\customers\\[id]\\page.tsx"],u="/admin/customers/[id]/page",m={require:a,loadChunk:()=>Promise.resolve()},f=new s.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/admin/customers/[id]/page",pathname:"/admin/customers/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},37086:(e,t,a)=>{let s={"01a8177569209c9d7f7d97c74e4602e33cf4526f":()=>Promise.resolve().then(a.bind(a,25420)).then(e=>e.getCustomerTransactions),"1bf6daaa5e0f7cd2c2a6917f29a46c8f71b7482e":()=>Promise.resolve().then(a.bind(a,25420)).then(e=>e.$$ACTION_2),"3ac7c9a7e4d8addf7f4196505cc4e97740e84cd3":()=>Promise.resolve().then(a.bind(a,25420)).then(e=>e.getCustomers),"4c453d514a09d76ff88800c6ebc28549534d57f8":()=>Promise.resolve().then(a.bind(a,25420)).then(e=>e.$$ACTION_1),"8669ea4bcea14e367abcf30f839202fe05fc968a":()=>Promise.resolve().then(a.bind(a,25420)).then(e=>e.getCustomerById),"8e0cad048e421be6ab6bdcfae90166bb2455ff9e":()=>Promise.resolve().then(a.bind(a,25420)).then(e=>e.$$ACTION_0),"2d15528f629c3af8998dec3807b0bce23bd14bc4":()=>Promise.resolve().then(a.bind(a,28565)).then(e=>e.getAdminInfo)};async function r(e,...t){return(await s[e]()).apply(null,t)}e.exports={"01a8177569209c9d7f7d97c74e4602e33cf4526f":r.bind(null,"01a8177569209c9d7f7d97c74e4602e33cf4526f"),"1bf6daaa5e0f7cd2c2a6917f29a46c8f71b7482e":r.bind(null,"1bf6daaa5e0f7cd2c2a6917f29a46c8f71b7482e"),"3ac7c9a7e4d8addf7f4196505cc4e97740e84cd3":r.bind(null,"3ac7c9a7e4d8addf7f4196505cc4e97740e84cd3"),"4c453d514a09d76ff88800c6ebc28549534d57f8":r.bind(null,"4c453d514a09d76ff88800c6ebc28549534d57f8"),"8669ea4bcea14e367abcf30f839202fe05fc968a":r.bind(null,"8669ea4bcea14e367abcf30f839202fe05fc968a"),"8e0cad048e421be6ab6bdcfae90166bb2455ff9e":r.bind(null,"8e0cad048e421be6ab6bdcfae90166bb2455ff9e"),"2d15528f629c3af8998dec3807b0bce23bd14bc4":r.bind(null,"2d15528f629c3af8998dec3807b0bce23bd14bc4")}},55e3:(e,t,a)=>{Promise.resolve().then(a.bind(a,81037))},86904:(e,t,a)=>{"use strict";a(15424);var s=a(46242);(0,s.$)("01a8177569209c9d7f7d97c74e4602e33cf4526f"),(0,s.$)("3ac7c9a7e4d8addf7f4196505cc4e97740e84cd3"),(0,s.$)("8669ea4bcea14e367abcf30f839202fe05fc968a")},81037:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>b});var s=a(10326),r=a(35047),n=a(90434),c=a(11890),d=a(85529),i=a(62881);let l=(0,i.Z)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),o=(0,i.Z)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),u=(0,i.Z)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);var m=a(90772),f=a(33071),h=a(567),x=a(28758);a(86904);var p=a(17577);function b(){parseInt((0,r.useParams)().id,10);let[e,t]=(0,p.useState)(null),[a,i]=(0,p.useState)([]),b=e?.trade?(e=>{let t=e.length,a=e.filter(e=>e.isSuccess).length;return{totalTrades:t,totalWins:a,totalLosses:t-a,totalQuantity:e.reduce((e,t)=>e+t.tradeQuantity,0)}})(e.trade):{totalTrades:0,totalWins:0,totalLosses:0,totalQuantity:0},g={totalDeposit:a.filter(e=>"DEPOSIT"===e.type).reduce((e,t)=>e+t.amount,0),totalWithdraw:a.filter(e=>"WITHDRAWAL"===e.type).reduce((e,t)=>e+t.amount,0)};return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[s.jsx(n.default,{href:"/admin/customers",children:s.jsx(m.z,{variant:"ghost",size:"icon",children:s.jsx(c.Z,{className:"h-4 w-4"})})}),(0,s.jsxs)("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Customer Details"}),(0,s.jsxs)("p",{className:"text-muted-foreground",children:[(0,s.jsxs)("p",{className:"text-blue-600",children:["Customer ID: ",e?.id]}),(0,s.jsxs)("p",{className:"text-blue-600",children:["Login ID: ",e?.loginId]})]})]})]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[s.jsx(m.z,{variant:"outline",children:"Edit Customer"}),s.jsx(m.z,{variant:"destructive",children:"Deactivate Account"})]})]}),(0,s.jsxs)("div",{className:"grid gap-6 md:grid-cols-2",children:[(0,s.jsxs)(f.Zb,{children:[s.jsx(f.Ol,{children:s.jsx(f.ll,{children:"Basic Information"})}),(0,s.jsxs)(f.aY,{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[s.jsx(x.qE,{className:"h-20 w-20",children:s.jsx(x.Q5,{children:s.jsx(d.Z,{className:"h-12 w-12"})})}),(0,s.jsxs)("div",{children:[s.jsx("h3",{className:"text-xl font-semibold",children:e?.name}),s.jsx("div",{className:"flex items-center gap-2 text-muted-foreground",children:s.jsx(h.C,{className:e?.active?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200",children:e?.active?"Active":"Inactive"})})]})]}),(0,s.jsxs)("div",{className:"grid gap-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[s.jsx(l,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{children:e?.email})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[s.jsx(o,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{children:e?.phone})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[s.jsx(u,{className:"h-4 w-4 text-muted-foreground"}),(0,s.jsxs)("span",{children:["Joined ",new Date(e?.createdAt||"").toLocaleDateString()]})]})]})]})]}),(0,s.jsxs)(f.Zb,{children:[s.jsx(f.Ol,{children:s.jsx(f.ll,{children:"Account Information"})}),s.jsx(f.aY,{className:"space-y-6",children:s.jsx("div",{className:"grid gap-4",children:e?.account.map((t,a)=>s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-semibold text-blue-600",children:["Account ",a+1]}),s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Account No"}),s.jsx("p",{className:"text-lg",children:t.accountNo}),s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Balance"}),s.jsxs("p",{className:"text-lg",children:[t.balance," ",t.currency]}),a<e.account.length-1&&s.jsx("hr",{className:"my-4"})," "]},t.id))})})]}),(0,s.jsxs)(f.Zb,{children:[s.jsx(f.Ol,{children:s.jsx(f.ll,{children:"Trade Summary"})}),s.jsx(f.aY,{className:"space-y-6",children:(0,s.jsxs)("div",{children:[(0,s.jsxs)("p",{children:["Total Trades: ",b.totalTrades]}),(0,s.jsxs)("p",{children:["Total Wins: ",b.totalWins]}),(0,s.jsxs)("p",{children:["Total Losses: ",b.totalLosses]}),(0,s.jsxs)("p",{children:["Total Quantity: ",b.totalQuantity," USDT"]})]})})]}),(0,s.jsxs)(f.Zb,{children:[s.jsx(f.Ol,{children:s.jsx(f.ll,{children:"Transaction Summary"})}),s.jsx(f.aY,{className:"space-y-6",children:(0,s.jsxs)("div",{children:[(0,s.jsxs)("p",{children:["Total Deposit: ",g.totalDeposit," USDT"]}),(0,s.jsxs)("p",{children:["Total Withdraw: ",g.totalWithdraw," USDT"]})]})})]})]})]})}},567:(e,t,a)=>{"use strict";a.d(t,{C:()=>d});var s=a(10326);a(17577);var r=a(28671),n=a(77863);let c=(0,r.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function d({className:e,variant:t,...a}){return s.jsx("div",{className:(0,n.cn)(c({variant:t}),e),...a})}},11890:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});let s=(0,a(62881).Z)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]])},25420:(e,t,a)=>{"use strict";a.r(t),a.d(t,{$$ACTION_0:()=>d,$$ACTION_1:()=>l,$$ACTION_2:()=>u,getCustomerById:()=>i,getCustomerTransactions:()=>o,getCustomers:()=>c});var s=a(27745);a(26461);var r=a(99180),n=a(85723);let c=(0,s.j)("8e0cad048e421be6ab6bdcfae90166bb2455ff9e",d);async function d(){return(await r._.customer.findMany({include:{account:!0,address:!0},orderBy:{createdAt:"desc"}})).map(e=>({id:e.id,email:e.email,name:e.name,phone:e.phone,createdAt:e.createdAt.toISOString(),updatedAt:e.updatedAt.toISOString(),active:e.active,isActivated:e.isActivated,lastLoginTime:e.lastLoginTime?.toISOString(),socialSecurityNumber:e.socialSecurityNumber,loginId:e.loginId,account:e.account,address:e.address}))}let i=(0,s.j)("4c453d514a09d76ff88800c6ebc28549534d57f8",l);async function l(e){return await r._.customer.findUnique({where:{id:e},include:{account:!0,address:!0,trade:!0}})}let o=(0,s.j)("1bf6daaa5e0f7cd2c2a6917f29a46c8f71b7482e",u);async function u(e){let t=(await r._.transaction.findMany({where:{account:{customerId:e}},include:{account:{include:{customer:!0}}}})).map(e=>({id:e.id,transactionId:e.transactionId,type:e.type,amount:e.amount,status:e.status,createdAt:e.createdAt.toISOString(),updatedAt:e.updatedAt.toISOString(),accountId:e.accountId,customerName:e.account.customer.name}));return console.log("lsit::",t),t}(0,n.h)([c,i,o]),(0,s.j)("3ac7c9a7e4d8addf7f4196505cc4e97740e84cd3",c),(0,s.j)("8669ea4bcea14e367abcf30f839202fe05fc968a",i),(0,s.j)("01a8177569209c9d7f7d97c74e4602e33cf4526f",o)},58615:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});let s=(0,a(68570).createProxy)(String.raw`C:\Users\sainyi\Desktop\projects\others\trading-admin\app\admin\customers\[id]\page.tsx#default`)}};var t=require("../../../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),s=t.X(0,[8948,930,8125,5723,9360],()=>a(77379));module.exports=s})();